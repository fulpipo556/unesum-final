# ğŸ“‹ Sistema de Programa AnalÃ­tico UNESUM

## ğŸ¯ Formato Detectado AutomÃ¡ticamente

El sistema detecta automÃ¡ticamente la estructura del Programa AnalÃ­tico de la UNESUM basÃ¡ndose en las **palabras en NEGRILLA** del documento Excel.

### âœ… Secciones Detectadas (12 en total)

#### 1ï¸âƒ£ ENCABEZADO
```
PROGRAMA ANALÃTICO DE ASIGNATURA
```
- **Tipo:** Encabezado principal
- **Renderizado:** TÃ­tulo grande

#### 2ï¸âƒ£ DATOS GENERALES
```
ASIGNATURA
PERIODO ACADÃ‰MICO ORDINARIO (PAO)
NIVEL
```
- **Tipo:** Formulario de datos bÃ¡sicos
- **Campos:** Nombre asignatura, perÃ­odo, nivel
- **Renderizado:** Campos de entrada de texto

#### 3ï¸âƒ£ CARACTERIZACIÃ“N
```
CARACTERIZACIÃ“N
```
- **Tipo:** Texto largo
- **Renderizado:** Textarea grande
- **DescripciÃ³n:** DescripciÃ³n general de la asignatura

#### 4ï¸âƒ£ OBJETIVOS
```
OBJETIVOS DE LA ASIGNATURA
```
- **Tipo:** Texto largo
- **Renderizado:** Textarea
- **DescripciÃ³n:** Objetivos generales y especÃ­ficos

#### 5ï¸âƒ£ COMPETENCIAS
```
COMPETENCIAS
```
- **Tipo:** Lista/Bullets
- **Renderizado:** Editor de lista con viÃ±etas
- **DescripciÃ³n:** Competencias a desarrollar

#### 6ï¸âƒ£ RESULTADOS DE APRENDIZAJE
```
RESULTADOS D E APRENDIZAJE DE LA ASIGNATURA
```
- **Tipo:** Texto largo
- **Renderizado:** Textarea
- **DescripciÃ³n:** Resultados esperados del estudiante

#### 7ï¸âƒ£ CONTENIDOS
```
CONTENIDOS DE LA ASIGNATURA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UNIDADES TEMÃTICAS â”‚ DESCRIPCIÃ“N  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- **Tipo:** Tabla dinÃ¡mica
- **Encabezados:** UNIDADES TEMÃTICAS, DESCRIPCIÃ“N
- **Renderizado:** Tabla editable con botÃ³n "Agregar fila"
- **DescripciÃ³n:** Contenido desglosado por unidades

#### 8ï¸âƒ£ METODOLOGÃA
```
METODOLOGÃA
```
- **Tipo:** Texto largo
- **Renderizado:** Textarea
- **DescripciÃ³n:** MÃ©todos de enseÃ±anza-aprendizaje

#### 9ï¸âƒ£ EVALUACIÃ“N
```
PROCEDIMIENTOS DE EVALUACIÃ“N
```
- **Tipo:** Texto largo
- **Renderizado:** Textarea
- **DescripciÃ³n:** Criterios y procedimientos de evaluaciÃ³n

#### ğŸ”Ÿ BIBLIOGRAFÃA BÃSICA
```
BIBLIOGRAFÃA BÃSICA
```
- **Tipo:** Tabla
- **Renderizado:** Tabla editable para referencias
- **DescripciÃ³n:** BibliografÃ­a principal obligatoria

#### 1ï¸âƒ£1ï¸âƒ£ BIBLIOGRAFÃA COMPLEMENTARIA
```
BIBLIOGRAFÃA - FUENTES DE CONSULTA
BIBLIOGRAFÃA COMPLEMENTARIA
```
- **Tipo:** Tabla
- **Renderizado:** Tabla editable para referencias adicionales
- **DescripciÃ³n:** Fuentes de consulta opcionales

#### 1ï¸âƒ£2ï¸âƒ£ VISADO (FIRMAS)
```
VISADO:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECANO/A DE FACULTAD â”‚ DIRECTOR/A ACADÃ‰MICO/A  â”‚ COORDINADOR/A DE CARRERA â”‚ DOCENTE  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                         â”‚                          â”‚          â”‚
â”‚ Fecha: 12-05-2025    â”‚ Fecha: 12-05-2025       â”‚ Fecha: 12-05-2025        â”‚ Fecha:   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- **Tipo:** Firmas
- **Campos:** Decano, Director AcadÃ©mico, Coordinador, Docente
- **Renderizado:** SecciÃ³n de firmas con fechas
- **Auto-completado:** Datos del usuario logueado

## ğŸ”„ Flujo de Trabajo

### Para el Administrador:

```mermaid
graph TD
    A[Admin sube Excel UNESUM] --> B[Sistema detecta estructura]
    B --> C[Identifica secciones en NEGRILLA]
    C --> D[Crea plantilla dinÃ¡mica]
    D --> E[Guarda programa con plantilla_id]
    E --> F[Admin asigna a docente]
```

### Para el Docente:

```mermaid
graph TD
    A[Docente recibe asignaciÃ³n] --> B[Abre formulario dinÃ¡mico]
    B --> C[Ve secciones en NEGRILLA como tÃ­tulos]
    C --> D[Llena campos segÃºn tipo]
    D --> E[Guarda progreso]
    E --> F[EnvÃ­a para revisiÃ³n]
```

## ğŸ’¾ Estructura en Base de Datos

### Tabla: `programas_analiticos`
```sql
{
  id: 1,
  nombre: "Programa AnalÃ­tico - MatemÃ¡ticas I",
  plantilla_id: 2,  -- â† Vinculado con plantilla UNESUM
  datos_tabla: {
    datos_generales: {
      asignatura: "MatemÃ¡ticas I",
      periodo: "PAO 2025",
      nivel: "Primer Nivel"
    },
    secciones: [
      {
        titulo: "CARACTERIZACIÃ“N",
        tipo: "texto_largo",
        es_negrilla: true
      },
      {
        titulo: "CONTENIDOS DE LA ASIGNATURA",
        tipo: "tabla",
        es_negrilla: true,
        encabezados: ["UNIDADES TEMÃTICAS", "DESCRIPCIÃ“N"]
      }
      // ... mÃ¡s secciones
    ]
  }
}
```

### Tabla: `plantillas_programa`
```sql
{
  id: 2,
  nombre: "Plantilla UNESUM",
  tipo: "excel_import",
  activa: true
}
```

### Tabla: `secciones_plantilla`
```sql
{
  id: 5,
  plantilla_id: 2,
  nombre: "CARACTERIZACIÃ“N",
  tipo: "texto_largo",
  orden: 1,
  obligatoria: true,
  es_titulo_negrilla: true  -- â† Marca visual importante
}
```

### Tabla: `campos_seccion`
```sql
-- Para secciÃ³n tipo TABLA
{
  id: 10,
  seccion_id: 5,
  nombre: "unidades_tematicas",
  etiqueta: "UNIDADES TEMÃTICAS",
  tipo_campo: "texto",
  orden: 1,
  requerido: false
}
```

## ğŸ¨ Renderizado en el Frontend

### Componente: `FormularioDinamico.tsx`

```typescript
// Los tÃ­tulos en NEGRILLA se renderizan asÃ­:
<div className="seccion-negrilla">
  <h2 className="font-bold text-xl text-gray-900">
    {seccion.nombre} {/* CARACTERIZACIÃ“N */}
  </h2>
  
  {seccion.tipo === 'texto_largo' && (
    <textarea 
      className="w-full p-3 border rounded"
      placeholder={`Ingrese ${seccion.nombre.toLowerCase()}`}
    />
  )}
  
  {seccion.tipo === 'tabla' && (
    <TablaDinamica 
      encabezados={seccion.encabezados}
      datos={valores}
    />
  )}
</div>
```

## ğŸ“¤ ExportaciÃ³n

El sistema puede exportar el programa llenado a:
- âœ… **Excel** (.xlsx) - Mantiene formato original
- âœ… **PDF** - Para impresiÃ³n con firmas
- âœ… **JSON** - Para respaldos

## ğŸ” Validaciones

### Campos Obligatorios:
- ASIGNATURA âœ…
- PERIODO ACADÃ‰MICO âœ…
- NIVEL âœ…
- CARACTERIZACIÃ“N âœ…
- OBJETIVOS âœ…
- CONTENIDOS (mÃ­nimo 1 unidad) âœ…

### Campos Opcionales:
- COMPETENCIAS
- METODOLOGÃA
- BIBLIOGRAFÃA COMPLEMENTARIA

## ğŸš€ Comandos Ãštiles

### Verificar estado del sistema:
```bash
cd my-node-backend
node scripts/verificar-estado-programas.js
```

### Ver formato UNESUM:
```bash
node scripts/formato-unesum.js
```

### Reiniciar servidor:
```bash
npm run dev
```

## ğŸ“Š Ejemplo Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          PROGRAMA ANALÃTICO DE ASIGNATURA                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ASIGNATURA: [MatemÃ¡ticas I                              ]  â”‚
â”‚ PERIODO:    [PAO 2025                                    ]  â”‚
â”‚ NIVEL:      [Primer Nivel                                ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CARACTERIZACIÃ“N                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Esta asignatura desarrolla...                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OBJETIVOS DE LA ASIGNATURA                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ - Objetivo 1...                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CONTENIDOS DE LA ASIGNATURA                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ UNIDADES TEMÃTICAS   â”‚ DESCRIPCIÃ“N                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ Unidad 1             â”‚ IntroducciÃ³n...                  â”‚ â”‚
â”‚ â”‚ Unidad 2             â”‚ Desarrollo...                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [+ Agregar Unidad]                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… Estado Actual

- âœ… DetecciÃ³n automÃ¡tica de formato UNESUM
- âœ… Palabras en NEGRILLA como tÃ­tulos
- âœ… 12 secciones identificadas
- âœ… Tablas dinÃ¡micas funcionando
- âœ… Guardado en base de datos
- âœ… AsignaciÃ³n a docentes
- âœ… Formulario dinÃ¡mico del docente

---

**Fecha:** 7 de diciembre de 2025  
**VersiÃ³n:** 2.0 - Formato UNESUM  
**Estado:** âœ… FUNCIONANDO
